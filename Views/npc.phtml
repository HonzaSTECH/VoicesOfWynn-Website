<h1><?= ${basename(__FILE__, '.phtml').'_npc'}->getName() ?></h1>
<img src="dynamic/npcs/<?= ${basename(__FILE__, '.phtml').'_npc'}->getName() ?>.png" alt="NPC picture" />
<p>
    <strong>Voice actor: </strong>
    <?php if (${basename(__FILE__, '.phtml').'_voiceActor'} === null) : ?>
        <i>Nobody</i>
    <?php else : ?>
        <img class="avatar" src="dynamic/avatars/<?= ${basename(__FILE__, '.phtml').'_voiceActor'}->getAvatarLink() ?>" alt="Profile picture" />
        <?= ${basename(__FILE__, '.phtml').'_voiceActor'}->getName() ?>
    <?php endif ?>
    <button id="change-actor-btn">Change</button>
</p>

<h3>Recordings</h3>
<?php foreach (${basename(__FILE__, '.phtml').'_quest_recordings'} as $quest) : ?>
<section>
    <table>
        <tr><th><?= $quest->getName() ?></th></tr>
	    <?php $recordings = $quest->getNpcs()[0]->getRecordings(); ?>
        <?php foreach ($recordings as $recording) : ?>
        <tr>
            <td># <?= $recording->line ?></td>
            <td>
                <audio controls>
                    <source src="dynamic/recordings/<?= $recording->file ?>" type="audio/ogg">
                    Your browser does not support the OGG audio format.
                </audio>
            <td style="color: green; font-weight: bolder;"><?= $recording->upvotes ?></td>
            <td style="color: red; font-weight: bolder;"><?= $recording->downvotes ?></td>
        </tr>
        <?php endforeach ?>
    </table>
</section>
<?php endforeach ?>
